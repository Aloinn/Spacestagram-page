"use strict";(self["webpackChunkshopify_frontend"]=self["webpackChunkshopify_frontend"]||[]).push([[64],{9418:(n,t,e)=>{e.d(t,{I:()=>a});var o=e(1959),i=e(3673),l=e(5720);e(8511);function a(){const n=(0,o.XI)();return(0,i.m0)((t=>{const e=l.Z.auth().onAuthStateChanged((t=>{n.value=t}));t(e)})),n}},9644:(n,t,e)=>{e.d(t,{Z:()=>C});var o=e(3673),i=e(2323);const l={key:0},a={class:"row justify-between items-center q-my-md"},r={class:"fn-lg fn-w-light q-mb-none text-primary"},u={class:"row q-gutter-x-sm items-center"};function s(n,t,e,s,c,d){const v=(0,o.up)("q-img"),f=(0,o.up)("q-avatar"),m=(0,o.up)("logout-google-btn");return n.userAuth?((0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",a,[(0,o._)("div",r," Hi "+(0,i.zw)(n.userAuth.displayName),1),(0,o._)("div",u,[(0,o.Wm)(f,{size:"40px"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{src:n.userAuth.photoURL},null,8,["src"])])),_:1}),(0,o.Wm)(m,{class:"text-white q-my-none"})])]),(0,o.WI)(n.$slots,"default")])):(0,o.kq)("",!0)}var c=e(9418);function d(n,t,e,i,l,a){const r=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.j4)(r,(0,o.dG)({flat:"",label:n.label||"Sign out",class:"bg-primary text-white",onClick:n.signOut,clickable:""},n.$attrs),null,16,["label","onClick"])}var v=e(5720),f=(e(8511),function(n,t,e,o){function i(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,l){function a(n){try{u(o.next(n))}catch(t){l(t)}}function r(n){try{u(o["throw"](n))}catch(t){l(t)}}function u(n){n.done?e(n.value):i(n.value).then(a,r)}u((o=o.apply(n,t||[])).next())}))});const m=(0,o.aZ)({name:"AuthGmailConnect",props:{label:String},setup(){const n=()=>f(this,void 0,void 0,(function*(){yield v.Z.auth().signOut()}));return{signOut:n}}});var g=e(4260),p=e(9892),h=e(7518),w=e.n(h);const y=(0,g.Z)(m,[["render",d]]),k=y;w()(m,"components",{QBtn:p.Z});const b=(0,o.aZ)({components:{LogoutGoogleBtn:k},setup(){const n=(0,c.I)();return{userAuth:n}}});var Z=e(5096),q=e(4027);const _=(0,g.Z)(b,[["render",s]]),C=_;w()(b,"components",{QAvatar:Z.Z,QImg:q.Z})},5950:(n,t,e)=>{e.d(t,{Z:()=>M});var o=e(3673),i=e(2323),l=e(8880);const a=["alt","src"],r={key:1},u=["alt","src"],s={class:"q-pa-md"},c={class:"fn-w-bold fn-lg q-mb-none q-mt-md"},d=["datetime"],v={class:"q-mt-md fn-sm"},f={class:"row q-gutter-sm justify-end"},m={key:0,class:"fn-sm fn-w-light q-mr-sm"};function g(n,t,e,g,p,h){const w=(0,o.up)("q-btn"),y=(0,o.up)("q-card-section"),k=(0,o.up)("q-card");return n.info?((0,o.wg)(),(0,o.iD)("article",{key:0,class:(0,i.C_)(n.date?"":"cursor-pointer"),onClick:t[0]||(t[0]=t=>{var e;return n.date?"":n.reroute((null===(e=n.info)||void 0===e?void 0:e.date)||"")})},[(0,o.Wm)(k,{flat:"",bordered:"",class:"rounded-borders"},{default:(0,o.w5)((()=>["image"==n.info.media_type?((0,o.wg)(),(0,o.iD)("img",{key:0,alt:n.info.title,src:n.info.url},null,8,a)):((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("iframe",{alt:n.info.title,class:"fit video",src:n.info.url,frameborder:"0"},null,8,u)])),(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o._)("h2",c,(0,i.zw)(n.info.title),1),(0,o._)("time",{datetime:n.info.date,class:"fn-w-light text-grey-6 fn-sm"},(0,i.zw)(n.info.date.replace(/-/gi,"/")),9,d),(0,o._)("p",v,(0,i.zw)(n.info.explanation),1),(0,o._)("div",f,[(0,o.Wm)(w,{onClick:(0,l.iM)(n.like,["stop"]),outline:"","icon-right":n.liked?"favorite":"favorite_border",color:"pink",size:"md"},{default:(0,o.w5)((()=>[n.likes.length?((0,o.wg)(),(0,o.iD)("div",m,(0,i.zw)(n.likes.length),1)):(0,o.kq)("",!0)])),_:1},8,["onClick","icon-right"]),(0,o.Wm)(w,{outline:"",onClick:(0,l.iM)(n.share,["stop"]),icon:"share",color:"primary",size:"md"},null,8,["onClick"])])])])),_:1})])),_:1})],2)):(0,o.kq)("",!0)}var p=e(1959),h=e(5636),w=(e(8064),e(8511),e(9418));const y=(0,o._)("h2",{class:"fn-lg fn-w-bold q-mb-none"},"Beam me up!",-1),k=(0,o._)("p",{class:"q-my-md"}," Login with a Google Account to heart your favourite space images ",-1);function b(n,t,e,i,l,a){const r=(0,o.up)("login-google-btn"),u=(0,o.up)("q-card"),s=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)(s,{ref:"dialogRef"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"q-px-lg q-py-md"},{default:(0,o.w5)((()=>[y,k,(0,o.Wm)(r,{onAuthed:t[0]||(t[0]=t=>n.onDialogOK()),class:"text-white q-my-md q-py-sm fit",outline:""})])),_:1})])),_:1},512)}var Z=e(1701);function q(n,t,e,i,l,a){const r=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.j4)(r,(0,o.dG)({dark:"",label:n.label||"Sign in with Google",class:"bg-primary text-white",onClick:n.signIn,clickable:""},n.$attrs),null,16,["label","onClick"])}var _=e(5720),C=function(n,t,e,o){function i(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,l){function a(n){try{u(o.next(n))}catch(t){l(t)}}function r(n){try{u(o["throw"](n))}catch(t){l(t)}}function u(n){n.done?e(n.value):i(n.value).then(a,r)}u((o=o.apply(n,t||[])).next())}))};const x=(0,o.aZ)({props:{label:String},emits:["authed"],setup(n,{emit:t}){const e=new _.Z.auth.GoogleAuthProvider,o=()=>C(this,void 0,void 0,(function*(){yield _.Z.auth().signInWithPopup(e),t("authed",!0)}));return{signIn:o}}});var A=e(4260),W=e(9892),I=e(7518),D=e.n(I);const Q=(0,A.Z)(x,[["render",q]]),S=Q;D()(x,"components",{QBtn:W.Z});const z=(0,o.aZ)({components:{LoginGoogleBtn:S},setup(){const{dialogRef:n,onDialogOK:t}=(0,Z.Z)();return{dialogRef:n,onDialogOK:t}}});var G=e(5926),O=e(151);const j=(0,A.Z)(z,[["render",b]]),B=j;D()(z,"components",{QDialog:G.Z,QCard:O.Z});var $=e(8825),L=e(9582),P=e(8112),R=e.n(P),F=function(n,t,e,o){function i(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,l){function a(n){try{u(o.next(n))}catch(t){l(t)}}function r(n){try{u(o["throw"](n))}catch(t){l(t)}}function u(n){n.done?e(n.value):i(n.value).then(a,r)}u((o=o.apply(n,t||[])).next())}))};const K=(0,o.aZ)({props:{info:Object,date:String},setup(n){var t;const e=h.Z.firestore(),o=(0,p.iH)([]),i=e.collection("likes").doc(`${(null===(t=null===n||void 0===n?void 0:n.info)||void 0===t?void 0:t.date)||n.date||""}`);i.onSnapshot((n=>{var t,e;o.value=null!==(e=null===(t=n.data())||void 0===t?void 0:t.likes)&&void 0!==e?e:[]}));const l=(0,w.I)(),a=(0,$.Z)(),r=()=>{var t;const e=R()();e.toClipboard(`https://aloinn.github.io/Spacestagram-page/#/images/${(null===(t=null===n||void 0===n?void 0:n.info)||void 0===t?void 0:t.date)||n.date||""}`),a.dialog({title:"Link copied!",message:"You can send this space image to your friends now!"})},u=()=>F(this,void 0,void 0,(function*(){var n,t,e,r;(null===l||void 0===l?void 0:l.value)?yield i.set({likes:(null===(n=o.value)||void 0===n?void 0:n.includes((null===(t=null===l||void 0===l?void 0:l.value)||void 0===t?void 0:t.uid)||""))?h.Z.firestore.FieldValue.arrayRemove(null===(e=null===l||void 0===l?void 0:l.value)||void 0===e?void 0:e.uid):h.Z.firestore.FieldValue.arrayUnion(null===(r=null===l||void 0===l?void 0:l.value)||void 0===r?void 0:r.uid)},{merge:!0}):a.dialog({component:B})})),s=(0,p.Fl)((()=>{var n,t,e;return null!==(e=null===(n=null===o||void 0===o?void 0:o.value)||void 0===n?void 0:n.includes((null===(t=null===l||void 0===l?void 0:l.value)||void 0===t?void 0:t.uid)||"ANON"))&&void 0!==e&&e})),c=(0,L.tv)(),d=n=>{c.push(`/images/${n}`)};return{like:u,likes:o,liked:s,share:r,reroute:d,userAuth:l}}});var N=e(5589);const H=(0,A.Z)(K,[["render",g],["__scopeId","data-v-3b9eeb9b"]]),M=H;D()(K,"components",{QCard:O.Z,QCardSection:N.Z,QBtn:W.Z})}}]);